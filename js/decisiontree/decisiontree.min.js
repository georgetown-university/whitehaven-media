!function(a){var b={targets:[{yes:".q2a",no:".q2b"},{yes:".q3a",no:".q3b"},{yes:".q3c",no:".q3d"},{yes:"#a1",no:"#a2"},{yes:"#a3",no:"#a4"},{yes:"#a5",no:"#a6"},{yes:"#a7",no:"#a8"}],init:function(){var b=this;this.setupForm(),a(".decision-tree select").change(function(a){b.evaluateAnswer(a)}),a("#decision-tree-reset").click(function(a){b.reset(a)})},setupForm:function(){var b=this;a(".decision-tree .question").each(function(c,d){var e="<label>"+a(d).html()+"</label>";e+='<select><option value=""></option>',e+='<option value="yes" data-target="'+b.targets[c].yes+'">Yes</option>',e+='<option value="no" data-target="'+b.targets[c].no+'">No</option>',e+="</select>",a(this).html(e)})},reset:function(b){b.preventDefault();var c=a(".q1 select");c.val(""),this.clearFutureQuestions(".q1")},evaluateAnswer:function(b){var c=a(b.target),d=c.closest(".question")[0];this.clearFutureQuestions(d),c.val()&&this.nextStep(c)},clearFutureQuestions:function(b){var c=a(b).nextAll();c.each(function(){a(this).removeClass("show"),a("select",this).val("")}),this.hideAnswers()},nextStep:function(b){var c=b.val(),d=a("option[value="+c+"]",b).attr("data-target");0==d.indexOf(".")?a(d).addClass("show"):(this.hideAnswers(),a(d).slideDown())},hideAnswers:function(){a(".decision-answer .answer").slideUp()}};a(document).ready(function(){b.init()})}(jQuery);
